<style>
    .table-fixed {
        width: 100%;
    }

        .table-fixed tr:after {
            content: ' ';
            display: block;
            visibility: hidden;
            clear: both;
        }

        .table-fixed > thead,
        .table-fixed > tbody,
        .table-fixed > tbody > tr,
        .table-fixed > tbody > tr:after,
        .table-fixed > thead > tr,
        .table-fixed > thead > tr > th {
            display: block;
        }

            .table-fixed > thead > th {
                height: 40px;
            }

        .table-fixed > tbody {
            height: 210px;
            overflow-y: auto;
        }

            .table-fixed > tbody > tr > td, .table-fixed > thead > tr > th {
                width: 25%;
                float: left;
            }

    .flex-v-center {
        display: flex;
        align-items: center;
    }
</style>

<script type="text/ng-template" id="modalDispositivo">
    <div class="modal-header-title">
        <button type="button" data-dismiss="modal" aria-hidden="true" ng-click="cancel()" class="close">Fechar</button>
        <center><h3 class="modal-title">{{tituloModal}}</h3></center>
    </div>
    <div class="modal-header-subtitle" style="padding-left: 30px;">
        <h4 class="modal-title">{{leitoModal}}{{pacienteModal}}</h4>
    </div>
    <div class="modal-body">
        <div id="divContentFull" class='content'>
            <div class="col-sm-9">
                <div class="row" style="padding-left: 15px;padding-right: 15px;padding-bottom: 5px;">
                    <center><h3>Dispositivos</h3></center>
                </div>

                <div class="tab-content" ng-show="selectedTab == 4" style="border-top-width: 1px;">
                    <div class="panel-heading">
                        <div class="col-sm-13">
                            <div class="row">
                                <div class="col-sm-8" style="padding-left: 0px;">
                                    <button type="button" class="mb-sm btn btn-success" data-toggle="modal" ng-click="abrirModalDispositivo()">
                                        <em class="fa icon-plus fa-lg"></em> Novo
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="panel-body">
                        <fieldset>
                            <table id="datatable1" class="table table-striped table-hover">
                                <thead>
                                    <tr>
                                        <th></th>
                                        <th>
                                            <center><span>Tempo</span></center>
                                        </th>
                                        <th>
                                            <center><span>Dispositivo</span></center>
                                        </th>
                                        <th>
                                            <center><span>Sítio</span></center>
                                        </th>
                                        <th>
                                            <center><span>Data e Hora Implante</span></center>
                                        </th>
                                        <th>
                                            <center><span>Data e Hora Retirada</span></center>
                                        </th>
                                        <th></th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr dir-paginate="item in dispositivos | filter:searchText | itemsPerPage: 10 track by $index">
                                        <td></td>
                                        <td class="col-sm-1"><center>{{item.Tempo}}</center></td>
                                        <td class="col-sm-2"><center>{{item.SiglaDispositivo}}</center></td>
                                        <td class="col-sm-1"><center>{{item.SitioDispositivoDescricao}}</center></td>
                                        <td class="col-sm-2"><center>{{item.DataImplanteFormatada}}</center></td>
                                        <td class="col-sm-4">
                                            <div class="col-sm-7 input-group" style="margin:auto;">
                                                <input type="text" class="form-control"
                                                       data-ng-model="item.DataRetirada"
                                                       data-ng-blur="editar($event,item)"
                                                       is-open="openedRetirada[$index]"
                                                       uib-datepicker-popup="dd/MM/yyyy HH:mm"
                                                       popup-placement="top-left"
                                                       min-date="item.DataImplante"
                                                       maxlength="16"
                                                       close-text="Fechar" />
                                                <span class="input-group-btn">
                                                    <a class="btn btn-default" ng-click="openDataRetirada($event, $index)">
                                                        <em class="fa fa-calendar"></em>
                                                    </a>
                                                </span>
                                            </div>
                                        </td>
                                        <td class="col-sm-3">
                                            <center>
                                                <button type="button" class="mb-sm btn btn-danger btn-justify" data-ng-click="deletar(item)">
                                                    <em class="fa fa-trash fa-lg"></em>
                                                </button>
                                            </center>
                                        </td>
                                    </tr>
                                </tbody>

                            </table>
                            <div class="other-controller">
                                <div class="text-center">
                                    <dir-pagination-controls boundary-links="true" on-page-change="pageChangeHandler(newPageNumber)" template-url="vendor/pagination/dirPagination.tpl.html"></dir-pagination-controls>
                                </div>
                            </div>
                        </fieldset>
                    </div>
                </div>

            </div>
            <div class="col-sm-3">
                <div class="tabbable nav-tabs" ng-init="selectedTab = 4;">
                    <ul class="nav nav-tabs nav-stacked" style="background-color: #ddd6d6">
                        <li ng-class="{active: selectedTab == 1}">
                            <a style="background-color: #ffffff" ng-click="abrirMasterAdmissao(cliente)" data-toggle="modal" data-dismiss="modal">Admissão</a>
                        </li>
                        <li ng-class="{active: selectedTab == 2}">
                            <a style="background-color: #ffffff" ng-click="abrirMasterDispositivo(internacao)" data-toggle="modal" data-dismiss="modal">Diagnósticos</a>
                        </li>
                        <li ng-class="{active: selectedTab == 3}">
                            <a style="background-color: #ffffff" ng-click="abrirMasterDispositivo(internacao)" data-toggle="modal" data-dismiss="modal">Escore</a>
                        </li>
                        <li ng-class="{active: selectedTab == 4}">
                            <a style="background-color: #ddd6d6" ng-click="abrirMasterDispositivo(internacao)" data-toggle="modal" data-dismiss="modal">Dispositivos</a>
                        </li>
                        <li ng-class="{active: selectedTab == 5}">
                            <a style="background-color: #ffffff" ng-click="abrirMasterDispositivo(internacao)" data-toggle="modal" data-dismiss="modal">Infecções</a>
                        </li>
                        <li ng-class="{active: selectedTab == 6}">
                            <a style="background-color: #ffffff" ng-click="abrirMasterDispositivo(internacao)" data-toggle="modal" data-dismiss="modal">Antimicrobianos</a>
                        </li>
                        <li ng-class="{active: selectedTab == 7}">
                            <a style="background-color: #ffffff" ng-click="abrirMasterDispositivo(internacao)" data-toggle="modal" data-dismiss="modal">Culturas</a>
                        </li>
                        <li ng-class="{active: selectedTab == 8}">
                            <a style="background-color: #ffffff" ng-click="abrirMasterDispositivo(internacao)" data-toggle="modal" data-dismiss="modal">Terapia Renal</a>
                        </li>
                        <li ng-class="{active: selectedTab == 9}">
                            <a style="background-color: #ffffff" ng-click="abrirMasterDispositivo(internacao)" data-toggle="modal" data-dismiss="modal">Terapia Nutri.</a>
                        </li>
                        <li ng-class="{active: selectedTab == 10}">
                            <a style="background-color: #ffffff" ng-click="abrirMasterDispositivo(internacao)" data-toggle="modal" data-dismiss="modal">Enfermagem</a>
                        </li>
                        <li ng-class="{active: selectedTab == 11}">
                            <a style="background-color: #ffffff" ng-click="abrirMasterDispositivo(internacao)" data-toggle="modal" data-dismiss="modal">Cuidados Paliativos</a>
                        </li>
                        <li ng-class="{active: selectedTab == 12}">
                            <a style="background-color: #ffffff" ng-click="abrirMasterDispositivo(internacao)" data-toggle="modal" data-dismiss="modal">Bundles</a>
                        </li>
                        <li ng-class="{active: selectedTab == 13}">
                            <a style="background-color: #ffffff" ng-click="abrirMasterDispositivo(internacao)" data-toggle="modal" data-dismiss="modal">Impressão</a>
                        </li>
                        <li ng-class="{active: selectedTab == 14}">
                            <a style="background-color: #ffffff" ng-click="abrirMasterDispositivo(internacao)" data-toggle="modal" data-dismiss="modal">Planejamento diário</a>
                        </li>
                        <li ng-class="{active: selectedTab == 15}">
                            <a style="background-color: #ffffff" ng-click="abrirMasterDispositivo(internacao)" data-toggle="modal" data-dismiss="modal">Alta</a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</script>
<script type="text/ng-template" id="modalDispositivoDetails">
    <div>
        <form role="form" name="formDispositivo" ng-submit="implantar(dispositivoImplantacao)" parsley-validate="">
            <div class="modal-header">
                <button type="button" data-dismiss="modal" aria-hidden="true" ng-click="cancelDetalhe()" class="close">&times;</button>
                <center><h3 class="modal-title">{{tituloModal}}</h3></center>
            </div>
            <div class="modal-body">
                <fieldset style="margin-bottom: 0px;padding-bottom: 0px;">
                    <div class="row flex-v-center">
                        <div class="col-sm-9" style="padding-right: 5px;">
                            <label>Data e Hora Implante</label>
                            <div class="input-group">
                                <input type="text" class="form-control"
                                       uib-datepicker-popup="dd/MM/yyyy HH:mm"
                                       data-ng-model="dispositivoImplantacao.DataImplante"
                                       is-open="datePickerDataImplante.opened"
                                       ng-blur="validaDataImplante(dispositivoImplantacao.DataImplante)"
                                       max-date="dataAtual"
                                       ng-required="true" maxlength="16" close-text="Fechar" />
                                <span class="input-group-btn">
                                    <a class="btn btn-default" ng-click="openDataImplante($event)">
                                        <em class="fa fa-calendar"></em>
                                    </a>
                                </span>
                            </div>
                            <label class="color: text-white">D</label>
                        </div>
                        <div class="col-sm-4" style="padding-left: 5px;width: 140px;">
                            <div class='form-group'>
                                <div class='col-sm-4'>
                                    <uib-timepicker data-ng-model="dispositivoImplantacao.DataImplante" hour-step="hstep" minute-step="mstep" show-meridian="ismeridian" value="12:42 PM"></uib-timepicker>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group-12">
                            <div class="form-group form-group--float form-group--float-center" style="margin-bottom: 5px;">
                                <label>Categoria</label>
                                <select class="form-control" required="required" ng-model="dispositivoImplantacao.CategoriaDispositivo"
                                        ng-options="item as item.Descricao for item in categorias" width="'100%'" ng-change="consultartipo(dispositivoImplantacao.CategoriaDispositivo)">
                                    <option value="">Selecione a Categoria</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group-12">
                            <div class="form-group form-group--float form-group--float-center" style="margin-top: 5px;margin-bottom: 5px;">
                                <label>Tipo</label>
                                <select class="form-control" required="required" ng-model="dispositivoImplantacao.TipoDispositivo"
                                        ng-options="item as item.Descricao for item in tiposDispositivos" width="'100%'" ng-change="consultarsitio(dispositivoImplantacao.TipoDispositivo)">
                                    <option value="">Selecione o Tipo de Dispositivo</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-12">
                            <div class="form-group form-group--float form-group--float-center" style="margin-top: 5px;margin-bottom: 5px;">
                                <label>Sítio</label>
                                <select class="form-control" required="required" ng-model="dispositivoImplantacao.SitioDispositivo"
                                        ng-options="item as item.Descricao for item in sitios" width="'100%'">
                                    <option value="">Selecione o Sítio</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-12">
                            <div class="form-group form-group--float form-group--float-center" style="margin-top: 5px;margin-bottom: 5px;">
                                <label class="col-sm-12 control-label" style="padding-left: 0px;">Lateralidade</label>
                                <label class="radio-inline c-radio">
                                    <input id="inlineradio10" required type="radio" ng-model="dispositivoImplantacao.Lateralidade" name="i-radio" value="Direita" checked="checked" />
                                    <span class="fa fa-check"></span>Direita
                                </label>
                                <label class="radio-inline c-radio">
                                    <input id="inlineradio20" required type="radio" ng-model="dispositivoImplantacao.Lateralidade" name="i-radio" value="Esquerda" />
                                    <span class="fa fa-check"></span>Esquerda
                                </label>
                                <label class="radio-inline c-radio">
                                    <input id="inlineradio30" required type="radio" ng-model="dispositivoImplantacao.Lateralidade" name="i-radio" value="NA" />
                                    <span class="fa fa-check"></span>NA
                                </label>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-12">
                            <div class="form-group form-group--float form-group--float-center" style="margin-top: 5px;margin-bottom: 5px;">
                                <label>Sigla</label>
                                <input type="text" class="form-control" required="required" data-ng-model="dispositivoImplantacao.SiglaDispositivo" placeholder="Sigla" style="text-transform:uppercase" maxlength="50">
                            </div>
                        </div>
                    </div>

                </fieldset>
            </div>
            <div class="modal-footer">
                <button class="btn btn-oval btn-success" type="submit">Implantar</button>
            </div>
        </form>
    </div>
</script>
